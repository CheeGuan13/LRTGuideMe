<script src="scripts/i18n.js" defer></script>
<script src="scripts/attraction.js" defer></script>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LRT GuideMe – KL Bird Park</title>
  <link rel="stylesheet" href="styles/style.css" />
</head>
<body>
<header class="container nav">
  <a class="brand" href="index.html">
    <img class="brand-logo" src="assets/images/LRT-Icon.png" alt="LRT Icon">
    <span class="notranslate">LRT GuideMe</span>
  </a>
  <nav class="menu" style="display:flex;align-items:center;gap:12px;">
    <select id="langSelect" aria-label="Select language" style="padding:6px 10px;border:1px solid #ccc;border-radius:6px;">
      <option value="en">English</option>
      <option value="ms">Bahasa Melayu</option>
      <option value="zh">中文</option>
    </select>
    <div id="userArea">
      <a href="login.html" class="btn" data-i18n-key="login_btn"
        style="padding:6px 10px;border:1px solid #ccc;border-radius:6px;
         font-size:16px;font-family:inherit;font-weight:normal;line-height:normal;color:black">Login
      </a>
    </div>
  </nav>
</header>

<main class="container">
  <h1 class="page-title notranslate">KL Bird Park</h1>
  <section class="grid two-column">
    <div class="image-left">
      <img src="assets/images/KL-Bird-Park.jpg" alt="KL Bird Park" class="attraction-img"/>
    </div>
    <div class="info-right">
      <h2><span data-i18n-key="about_header">About</span> <span class="notranslate">KL Bird Park</span></h2>
      <p data-i18n-key="bird_park_p1">
        KL Bird Park is one of the largest free-flight aviaries in the world, home to thousands of birds from around the globe. 
        Visitors can enjoy up-close encounters with exotic species, interactive feeding sessions, and educational exhibits focused on avian conservation.
      </p>
      <p data-i18n-key="bird_park_p2">
        Easily accessible via LRT, KL Bird Park provides a serene escape from the city bustle while offering a fun and educational experience for families, tourists, and bird enthusiasts.
      </p>
      <p><b data-i18n-key="nearest_station">Nearest LRT Station:</b> <span class="notranslate">Pasar Seni Station (KJ12 / SP09)</span></p>
    </div>
  </section>

  <h2 class="section-title"><span class="notranslate">Pasar Seni</span> <span data-i18n-key="station_info_header">Station Information</span></h2>
  <section class="grid two-column reverse">
    <div class="info-left">
      <ul>
       <li><b data-i18n-key="line_label_detail">Line:</b> 
        <span class="dot kelana"></span> Kelana Jaya Line (KJ14), 
        <span class="dot sripetaling"></span> Sri Petaling Line (SP02)
      </li>
      <li><b data-i18n-key="station_code">Station Code:</b> KJ14 / SP02</li>
      <li><b data-i18n-key="interchange">Interchange:</b> Yes (2 lines)</li>
      <li><b data-i18n-key="nearby_landmarks">Nearby Landmarks:</b> Central Market, Petaling Street (Chinatown), River of Life, KL Bird Park, Islamic Arts Museum</li>
      <li><b data-i18n-key="facilities">Facilities:</b> Elevator, Toilet, Customer Service Counter, Ticket Vending Machines</li>
    </ul>
      <p data-i18n-key="bird_station_p">
        The station itself is designed for accessibility and comfort. It features escalators, elevators, and clear 
        signages to guide travelers smoothly. Its underground layout also provides shelter from weather conditions, 
        making it ideal for visitors who plan to explore the city on foot. Nearby facilities include food courts, 
        convenience stores, and cultural spaces, ensuring that passengers have everything they need as soon as they step out.
      </p>
      <button class="btn primary navigate-btn" data-station="Pasar Seni" data-i18n-key="navigate_in_station">
        Navigate in station
      </button>
    </div>
    <div class="image-right">
      <img src="assets/images/Pasar-Seni-Station.jpg" alt="Pasar Seni Station" class="station-img"/>
    </div>
  </section>
</main>

<footer class="container footer">© 2025 LRT GuideMe</footer>

{/* */}
<script>
  const userArea_bird = document.getElementById('userArea');
  
  fetch('session_check.php')
    .then(response => {
      if (!response.ok) { 
        throw new Error('session_check.php script failed or returned error ' + response.status);
      }
      return response.json();
    })
    .then(data => {
      if (data.logged_in) {
        userArea_bird.innerHTML = `
          <div id="userMenu" style="position:relative;">
            <img id="userAvatarIcon" src="${data.avatar || 'assets/images/user-icon.png'}" alt="User Avatar"
                 style="width:36px;height:36px;border-radius:50%;cursor:pointer;border:1px solid #ccc;">
          </div>
        `;
        document.querySelector('#userMenu img').addEventListener('click', () => {
          window.location.href = 'user.html';
        });
      } else {
        userArea_bird.innerHTML = `
          <a href="login.html" id="loginBtn" class="btn"
             data-i18n-key="login_btn"
             style="padding:6px 10px;border:1px solid #ccc;border-radius:6px;color:black;text-decoration:none;">
            Login
          </a>
        `;
        if (typeof applyTranslations === 'function') {
            applyTranslations(window.currentLang || 'en'); 
        }
      }
    })
    .catch(err => {
        console.error('Session check failed:', err);
        userArea_bird.innerHTML = `
          <a href="login.html" id="loginBtn" class="btn"
             data-i18n-key="login_btn"
             style="padding:6px 10px;border:1px solid #ccc;border-radius:6px;color:black;text-decoration:none;">
            Login
          </a>
        `;
        if (typeof applyTranslations === 'function') {
            applyTranslations(window.currentLang || 'en'); 
        }
    });
</script>
</body>
</html>